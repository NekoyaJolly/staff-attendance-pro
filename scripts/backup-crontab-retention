# Advanced Backup Retention Cron Configuration
# Time Tracking System - Production Environment

# Minute Hour Day Month DayOfWeek Command

# Hourly backups - every hour
0 * * * * /app/scripts/backup-system-enhanced.sh >> /var/log/backup-cron.log 2>&1

# Daily retention policy cleanup - 1:00 AM every day
0 1 * * * /app/scripts/backup-retention-policy.sh >> /var/log/retention-cron.log 2>&1

# Weekly backup health check - 6:00 AM every Monday
0 6 * * 1 /app/scripts/backup-health-check.sh >> /var/log/health-cron.log 2>&1

# Monthly backup report - 7:00 AM on the 1st of every month
0 7 1 * * /app/scripts/backup-retention-policy.sh report >> /var/log/report-cron.log 2>&1

# Quarterly backup verification - 8:00 AM on 1st day of quarters (Jan, Apr, Jul, Oct)
0 8 1 1,4,7,10 * /app/scripts/backup-retention-policy.sh verify >> /var/log/verify-cron.log 2>&1

# Annual backup audit - 9:00 AM on January 1st
0 9 1 1 * /app/scripts/backup-audit.sh annual >> /var/log/audit-cron.log 2>&1

# Emergency backup space cleanup - every 6 hours if disk usage > 90%
0 */6 * * * /app/scripts/emergency-cleanup.sh >> /var/log/emergency-cron.log 2>&1

# Backup metrics collection - every 15 minutes
*/15 * * * * /app/scripts/backup-metrics.sh >> /var/log/metrics-cron.log 2>&1

# Log rotation for backup logs - 11:59 PM every Sunday
59 23 * * 0 /usr/sbin/logrotate /etc/logrotate.d/backup-logs 2>&1

# Database performance optimization after backups - 3:30 AM every day
30 3 * * * /app/scripts/post-backup-optimization.sh >> /var/log/optimization-cron.log 2>&1